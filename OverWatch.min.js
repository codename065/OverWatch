/*
â’¸ copyright: Shahnur Alam ( https://github.com/codename065/ )
*/
class OverWatch{constructor(e){this.ID=e;let t=this;this.data=new Proxy({},{set(e,o,r){e[o]=r,"string"==typeof r&&(document.body.innerHTML=document.body.innerHTML.replace(`{${this.ID}.${o}}`,r)),"object"==typeof r&&t.process(o,r),t.loops()}})}process(e,t){for(let[o,r]of Object.entries(t)){let s=`${e}.${o}`;"string"==typeof r?document.getElementById(this.ID).innerHTML=document.getElementById(this.ID).innerHTML.replace(`{${s}}`,r):"object"==typeof r&&this.process(s,r)}}loops(){let e=document.getElementById(this.ID).getElementsByTagName("loop");for(let[t,o]of Object.entries(e)){let r=o.getAttribute(":for");r=this.valueof(r);let s=o.getAttribute(":each");o.innerHTML=this.loop(r,s,o.innerHTML)}}loop(e,t,o){let r="";return e.forEach(e=>{let s=Object.keys(e),l=o;s.forEach(o=>{l=l.replace(`{${t}.${o}}`,e[o])}),r+=l}),r}valueof(e){let t=this.data;return(e=e.split(".")).forEach(e=>{t=t[e]}),t}}
